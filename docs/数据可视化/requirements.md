# TikTok数据可视化系统 - Requirements Document

为TikTok数据上传系统添加数据可视化功能，包括账号管理、状态分类、统计分析等功能，帮助用户更好地管理和分析TikTok账号数据

## Core Features

### 1. 账号管理界面
- 展示所有唯一的TikTok账号（以author字段去重）
- 显示每个账号的基础统计信息（作品数量、总播放量、总点赞量等）
- 支持账号状态的手动分类和管理
- 提供快速搜索和筛选功能

### 2. 账号状态分类系统
- 支持三种账号状态：**成品号**、**半成品号**、**空状态**
- 用户可以手动设置和修改每个账号的状态
- 提供批量状态设置功能
- 状态修改实时保存到数据库的author_status字段

### 3. 数据统计和分析
- 账号状态分布统计（成品号/半成品号/未分类数量和占比）
- 各状态账号的表现对比分析
- 趋势分析和数据导出功能

### 4. 交互式界面设计
- 响应式设计，支持桌面和移动端访问
- 直观的状态标记界面（标签、颜色区分）
- 实时数据更新，无需刷新页面

## User Stories

### 作为数据分析师，我希望能够：
- **查看所有账号列表**：快速浏览数据库中所有不重复的TikTok账号，以便了解当前数据覆盖范围
- **设置账号状态**：手动将账号标记为"成品号"或"半成品号"，以便按价值分类管理账号
- **筛选账号状态**：按状态筛选查看特定类型的账号，以便专注分析某一类账号
- **查看账号统计**：看到每个账号的作品数量、平均表现等数据，以便评估账号价值

### 作为业务用户，我希望：
- **批量管理状态**：能够同时设置多个账号的状态，提高工作效率
- **搜索特定账号**：通过账号名快速找到目标账号，无需翻页查找
- **导出数据**：将分类后的账号数据导出，用于其他分析工具
- **直观的视觉反馈**：通过颜色、标签等方式快速识别不同状态的账号

## Acceptance Criteria

### 账号列表功能
- [ ] 正确展示数据库中所有唯一的author账号（去重显示）
- [ ] 显示每个账号的基础统计：作品总数、总播放量、总点赞量、平均表现
- [ ] 支持按账号名称搜索功能
- [ ] 支持分页显示，每页显示50个账号
- [ ] 账号列表加载时间不超过2秒

### 状态管理功能
- [ ] 支持为每个账号设置三种状态：成品号、半成品号、空状态
- [ ] 状态设置界面直观易用（下拉菜单或标签按钮）
- [ ] 状态修改后立即保存到数据库author_status字段
- [ ] 支持批量选择和批量设置状态功能
- [ ] 状态修改有成功/失败的用户反馈

### 筛选和搜索功能
- [ ] 支持按状态筛选：全部、成品号、半成品号、未分类
- [ ] 支持按账号名称模糊搜索
- [ ] 搜索结果实时显示，输入即时响应
- [ ] 筛选条件可以组合使用
- [ ] 筛选状态在URL中保持，支持书签和分享

### 统计分析功能
- [ ] 显示账号状态分布饼图（各状态数量和占比）
- [ ] 显示各状态账号的平均表现对比
- [ ] 提供数据导出功能（Excel/CSV格式）
- [ ] 统计数据实时更新，与账号列表同步

### 用户体验功能
- [ ] 响应式设计，支持1024px以上桌面端显示
- [ ] 状态通过颜色和图标区分（成品号-绿色，半成品号-黄色，未分类-灰色）
- [ ] 操作有loading状态和成功提示
- [ ] 界面布局清晰，关键功能易于发现
- [ ] 支持键盘快捷键操作

## Non-functional Requirements

### 性能要求
- 账号列表页面加载时间不超过2秒（1000个账号）
- 状态修改响应时间不超过500ms
- 搜索结果响应时间不超过300ms
- 支持最多10000个账号的流畅显示和操作

### 数据一致性要求
- 状态修改必须正确保存到数据库
- 统计数据与实际账号状态保持一致
- 多用户同时操作时数据不冲突
- 页面刷新后状态保持不变

### 兼容性要求
- 支持Chrome、Firefox、Safari、Edge主流浏览器
- 兼容1024x768以上分辨率显示
- 支持现有tiktok_videos_raw表结构
- 与现有上传系统无缝集成

### 可维护性要求
- 代码结构清晰，组件复用性强
- 使用TypeScript提供类型安全
- 数据库查询优化，避免N+1问题
- 详细的操作日志和错误记录

### 安全要求
- 状态修改操作有权限验证
- 防止SQL注入和XSS攻击
- 敏感数据不在前端暴露
- 操作日志记录用户行为

## Technical Requirements

### 前端技术栈
- 基于现有Next.js + TypeScript + Tailwind CSS架构
- 使用React Hooks进行状态管理
- 集成现有设计系统和UI组件

### 后端API设计
- RESTful API设计风格
- 统一的错误处理和响应格式
- 支持分页、搜索、筛选参数
- 数据库查询优化

### 数据库设计
- 使用现有tiktok_videos_raw表
- author_status字段类型：varchar(20)，可选值：'成品号'、'半成品号'、NULL
- 创建必要的索引优化查询性能
- 考虑后续扩展其他状态字段的可能性